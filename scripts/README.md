# Setup Scripts

Utility scripts for one-time setup tasks.

## auth_gmail.py

OAuth credential generator for Gmail API access.

**Purpose:** Generates the OAuth tokens needed for the transactions bot to access your Gmail account.

**When to use:** Run once during initial setup, or when you need to refresh credentials.

**Prerequisites:**
1. Download `credentials.json` from GCP Console (APIs & Services > Credentials > OAuth client ID)
2. Place `credentials.json` in the project root
3. Install dependencies: `pip install google-api-python-client google-auth-oauthlib google-auth-httplib2`

**Usage:**
```bash
# Run from project root
python scripts/auth_gmail.py
```

**What it does:**
1. Looks for `credentials.json` in project root (OAuth client credentials from GCP Console)
2. Opens browser for OAuth authorization flow
3. Creates `token.json` in project root (contains access/refresh tokens)
4. Outputs JSON formatted for GCP Secret Manager

**Output:**
- `token.json` - Saved locally for future use (already in .gitignore)
- JSON printed to console - Copy this to GCP Secret Manager as `gmail-credentials` secret

**File types explained:**
- `credentials.json` - App-level OAuth credentials (client ID/secret) downloaded from GCP Console
- `token.json` - User-level OAuth tokens (access/refresh tokens) generated by this script
- Secret Manager JSON - Combined format used by Cloud Functions at runtime
